<!doctype book PUBLIC "-//Davenport//DTD DocBook V3.0//EN" [
]>
<book>
  <bookinfo>
    <title>GTimeTracker Documentation</title>
    <authorgroup>
      <author>
	<firstname>Eckehard</firstname>
	<surname>Berns</surname>
	<affiliation>
	  <address>
	    <email>eb@berns.prima.de</email>
	  </address>
	</affiliation>
      </author>
    </authorgroup>
    <!-- <version>last modified: <date></version> -->
    <copyright>
      <year>1997</year><year>1998</year>
      <holder>Eckehard Berns</holder>
    </copyright>
    <legalnotice>
      <para>This documentation is free software; you can redistribute
	it and/or modify it under the terms of the GNU General Public
	License as published by the Free Software Foundation; either
	version 2 of the License, or (at your option) any later
	version.</para>

      <para>This program is distributed in the hope that it will be
	useful, but WITHOUT ANY WARRANTY; without even the implied
	warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
	PURPOSE.  See the GNU General Public License for more
	details.</para>

      <para>You should have received a copy of the GNU General Public
	License along with this program; if not, write to the Free
	Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,
	MA 02111-1307 USA</para>

      <para>For more details see the file COPYING in the source
	distribution of GTimeTracker.</para>
    </legalnotice>
  </bookinfo>

  <toc></toc>

  <chapter id="intro">
    <title>Introduction</title>
    <sect1 id="feedback">
      <title>Feedback</title>
      <para>Well, I'm german and I find it hard to express myself in
	english. So if you find some phrases and/or words that I used
	in a wrong way (and you will find them :-) ), please send me a
	mail, to let me correct this. Please send me notes about
	typos, too.</para>

      <para>And I would like to hear about your opionion on
	GTimeTracker. Maybe you want some features to be integrated in
	GTimeTracker. Or you have discovered a bug. Or you think, that
	the user interface needs a change in some way. Just send me a
	mail, and I will see, what I can do for you. I want to make
	this tool usable and usefull for everyone.</para>
    </sect1>

    <sect1 id="whatis">
	<title>What is GTimeTracker</title>
      <para>Basically GTimeTracker is just a tool to measure the time,
	you let a given <emphasis/project/ (see <xref linkend="projwhat">)
	in a <emphasis/selected/ state (see <xref linkend="projstates">).
	GTimeTracker isn't espacially smart at this. You, the user,
	will have to give GTimeTracker hints about what you're
	currently wanting to measure or it will not display reasonable
	values.</para>

      <para>But when one has learned to use GTimeTracker effectively,
	it can be of great help. For example you can use it to
	optimize your work. It can show you, that you are spending to
	much time on unimportent tasks. Or it can exactly count the
	hours you spend on a project, that is payed for by time. You
	may discover many other ways, GTimeTracker can work for
	you.</para>
    </sect1>

    <sect1 id="start">
      <title>First starting GTimeTracker</title>
      <para>After first starting GTimeTracker you will be notified,
	that there is no readable configuration file in your home
	directory (<literal>$HOME/.gtimetrackerrc</literal>). You will
	be asked, whether or not you want GTimeTracker to install a
	new one. This is a safety question, because something could
	have happend that made your configuration file unreadable and
	maybe you will want to look for it yourself. Writing a new
	config file will cause the loss of all your projects and time
	measurements. If you started GTimeTracker for the first time,
	you can just press the <literal/OK/ button.</para>
    </sect1>
  </chapter>

  <chapter id="main">
    <title>The Main Window</title>
    <para>The main window consists of four areas. There is a menu bar
      (see <xref linkend="menubar">), a toolbar (see <xref
	linkend="toolbar">), a status bar at the bottom of the window
      (see <xref linkend="statusbar">), and a scrollable area where
      all your projects will be displayed (see <xref
	linkend="projlist">). When you start GTimeTracker for the
      first time, this area will show just one project, which is
      titled "empty".</para>

    <para>Note that you can customize the look of the main window in
      the preferences dialog (see <xref linkend="pref">), so not all these
      areas might show up after you have played around with
      GTimeTracker a bit. You can allways enable missing areas in the
      preferences dialog.</para>

    <sect1 id="menubar">
      <title>The Menu Bar</title>
      <para>The menu bar is located at the top of the window by
	default. If you are using a GNOME version of GTimeTracker, you
	can change the location of the menu bar in numerouse ways.
	This customization of the menu bar is subject of the GNOME
	global documentation and not covered here.</para>

      <para>Nearly all menu items in GTimeTracker have a shortcut (or
	accelerator key). Those key sequences are shown behind the
	name of the function. If for example you want to activate the
	function <literal/New Project.../ from the <literal/File/
	menu, you can just hold down the <literal/Control/ key and
	press the <literal/N/ key. In the menu this is shown as
	<literal/Ctl+N/.</para>

      <para>The menu bar consists of four menus: <literal/File/,
	<literal/Edit/, <literal/Timer/ and <literal/Help/. I will
	describe these menus in the following sections.</para>

      <sect2 id="filemenu">
	<title>The <literal/File/ Menu</title>
	<para>In the <literal/File/ menu you will find the functions
	  dealing with the configuration file --
	  <literal>$HOME/.gtimetrackerrc</literal>. In addition there
	  is a function to quit GTimeTracker. I have also put the
	  <literal/New Project.../ funtion there. This is mainly
	  because nearly all software has a <emphasis/new/ function in
	  the <literal/File/ menu and that's the place I would search
	  for it.</para>


	<sect3 id="filemenu-newproj">
	  <title><literal/New Project.../</title>
	  <para>This function shows the <emphasis/New Project Dialog/.
	    Have a look at <xref linkend="newproj"> for more info.</para>
	</sect3>

	<sect3 id="filemenu-rc">
	  <title><literal/Reload/ and <literal/Save Configuration
	      File/</title>
	  <para>Okay, let's have a look at the functions dealing with
	    the configuration file. The configuration file holds infos
	    about your preferences (see <xref linkend="pref">) and
	    about your list of projects (see <xref
	      linkend="projlist">). The functions are <literal/Reload
	      Configuration File/ and <literal/Save Configuration
	      File/.</para>

	  <para>The configuration file will be saved every time,
	    GTimeTracker exits. I have made some effort, to verify
	    that this file will be updated even in case of program
	    aborts. So there should be no need to save the
	    configuration file for safety purpose. But you might want
	    to rearrange your projects a bit. You may want to save the
	    current state of the projects just to make sure you cannot
	    delete a project by accident.</para>

	  <para>In case you made some mistakes you can then use the
	    <literal>Reload Configuration File</literal> function. You
	    will be asked, if you really want to discard your current
	    set of projects. Just press <literal/OK/, if you really
	    ment to reload the old configuration file. If you
	    activated this function by accident, you can press
	    <literal/Cancel/.</para>
	</sect3>

	<sect3 id="filemenu-quit">
	  <title><literal/Quit/</title>
	  <para>This function just quits GTimeTracker. The
	    configuration file with your current list of projects will
	    automatically be saved.</para>
	</sect3>
      </sect2>

      <sect2 id="editmenu">
	<title>The <literal/Edit/ Menu</title>
	<para>The <literal/Edit/ menu holds all the functions to edit
	  the project list. In addition there is a menu item to
	  activate the <emphasis/preferences dialog/.</para>

	<sect3 id="editmenu-cut">
	  <title><literal/Cut/, <literal/Copy/ and
	    <literal/Paste/</title>
	  <para>These functions are usefull to rearrange your project
	    list. You can use <literal/Cut/ to remove projects from
	    the list. But these cutted projects aren't discarted right
	    away. You can use <literal/Paste/ to insert a
	    <emphasis/cutted/ or <emphasis/copied/ project either
	    before the current selected project, or, if no project is
	    selected, at the bottom of your project list. The
	    <literal/Copy/ function does the same as the <literal/Cut/
	    function, but will not remove the project from the
	    list.</para>

	  <para>Note that there is only room for <emphasis/one/
	    project to be <emphasis/cutted/ or <emphasis/copied/. If
	    you cut or copy another project, before <emphasis/pasting/
	    the previous one, that project will be lost
	    forever.</para>

	  <para>On the other hand it is possible to paste a cutted or
	    copied project multiple times.</para>
	</sect3>

	<sect3 id="editmenu-prop">
	  <title><literal/Properties.../</title>
	  <para>This function shows the <emphasis/properties dialog/,
	    or, if it is allready shown, updates its contents. See
	    <xref linkend="prop"> for more details.</para>

	<sect3 id="editmenu-pref">
	  <title><literal/Preferences.../</title>
	  <para>This function shows the <emphasis/preferences dialog/.
	    See <xref linkend="pref"> for more details.</para>

      <sect2 id="timermenu">
	<title>The <literal/Timer/ Menu</title>
	<para>The <literal/Timer/ menu lets you start and stop the
	  internal timer (see <xref linkend="timer"> and <xref
	  linkend="projstates">).</para>

	<para>You can start the timer by activating <literal/Start/.
	  <literal/Stop/ will stop the timer. And you can toggle the
	  state of the timer with <literal/Timer running/.</para>

      <sect2 id="helpmenu">
	<title>The <literal/Help/ Menu</title>
	<para>The only menu item in the <literal/Help/ menu is
	  <literal/About.../. This function will popup the
	  <emphasis/about dialog/. Just press <literal/Close/ to get
	  rid of it...</para>
      </sect2>
    </sect1>

    <sect1 id="toolbar">
      <title>The Toolbar</title>
      <para>Each item in the toolbar activates a menu item. So besides
	the menu itself and the shotcut (or accelerator key), I
	described above, you can use the toolbar items as a third way
	of executing a given function.</para>

      <para>The initial state of the toolbar shows icons for the
	following functions from left to right:</para>

      <itemizedlist>
	<listitem><para><emphasis/File/ &mdash; New Project...</para>
	</listitem>
	<listitem><para><emphasis/File/ &mdash; Reload Configuration
	    File</para>
	</listitem>
	<listitem><para><emphasis/File/ &mdash; Save Configuration
	    File</para>
	</listitem>
	<listitem><para><emphasis/Edit/ &mdash; Cut</para>
	</listitem>
	<listitem><para><emphasis/Edit/ &mdash; Copy</para>
	</listitem>
	<listitem><para><emphasis/Edit/ &mdash; Paste</para>
	</listitem>
	<listitem><para><emphasis/Edit/ &mdash; Properties...</para>
	</listitem>
  	<listitem><para><emphasis/Timer/ &mdash; Timer Running</para>
	</listitem>
	<listitem><para><emphasis/Edit/ &mdash; Preferences...</para>
	</listitem>
      </itemizedlist>
    </sect1>

    <sect1 id="projlist">
      <title>The Project List</title>
      <sect2 id="projwhat">
	<title>What is a Project</title>
	<para>A project consists of the following:</para>

	<itemizedlist>
	  <listitem><para>Each project has a title, that is displayed
	      in the project list</para>
	  </listitem>
	  <listitem><para>There is a <emphasis/daily/ timer, which
	      will be automatically reset on a new day, and which you
	      can zero as you please. This is the timer, that will be
	      displayed in the project list.</para>
	  </listitem>
	  <listitem><para>Another timer holds the total time this
	      project has been worked on.</para>
	  </listitem>
	  <listitem><para>I have included a description of the
	      project. You can use it to specify the project some
	      more.</para>
	  </listitem>
	</itemizedlist>
      </sect2>

      <sect2 id="projstates">
	<title>The State of a Project</title>
	<para>Basically a project has just two states. Selected or
	  unselected. You can only select one project at a time. An
	  unselected project is just that &mdash; unselected. But there are
	  other values that affect the handling of a selected
	  project.</para>

	<para>E.g. there is the timer (see <xref linkend="timer">).
	  The time of a selected project will only be counted, when
	  the timer is running. This gives us a third state of a
	  project. Here is a list of states and what happens to a
	  project in each state:</para>

	<variablelist>
	  <varlistentry>
	  <term>The project is <emphasis/not/ selected</term>
	    <listitem><para>There is no time measuring or other
		effect.</para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
  	    <term>The project is selected and the timer is running.</term>
	    <listitem><para>In that state, the time is measured for
		the given project. In addition there will be a log
		file entry for that project (if log files are enabled
		- see <xref linkend="logfile">), and the shell command
		is executed (see <xref linkend="shellcmd">).</para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term>The project is selected but the timer is
	      stopped.</term>
	    <listitem><para>The time will not be measured, and there
		is no entry in the log file. But the shell command has
		been run and is not beeing canceled.</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para>This might be confusing the first time, but you can
	  benefit from this. E.g. I use the shell command (see <xref
	    linkend="shellcmd">) to update my <literal/.project/ file.
	  When I'm not really working on a project (e.g. because I'm
	  just away to get me a new coffee or something), I can leave
	  the <literal/.project/ file alone, but don't have to count
	  the time.</para>
      </sect2>

      <sect2 id="projwork">
	  <title>Working with the Project List</title>
	<para>The project list is displayed in the main area of the
	  main window. It shows what projects are in the list, and
	  which project currently is selected. One line reflects one
	  project. The <emphasis/daily/ time and the title of the
	  project are displayed.</para>

	<para>You can select a project by clicking on it with the left
	  mouse button. Pressing the left mouse button again on a
	  selected project deselects it. This is the way to mark all
	  projects as unselected.</para>

	<para>To get a popup menu for a project, you have to press and
	  hold the right mouse button on it. If the project wasn't
	  selected, it will now receive the selection, and the popup
	  menu will be displayed. The popup menu consists of the menu
	  items of the <literal/Edit/ menu, which deal with projects.
	  Thus it is just a replacement for selecting a project and
	  then using the <literal/Edit/ menu.</para>
      </sect2>
    </sect1>

    <sect1 id="statusbar">
      <title>The Status Bar</title>
      <para>The status bar displays the currently selected project. It
	will display more info in the future, but that's not
	implemented in the current version of GTimeTracker.</para>

      <para>The status bar helps to have a better info about the state
	of a project I was blabbering about in <xref
	  linkend="projstates">. You know exactly if there is
	currently no selected project, even if the internal timer is
	running (which is reflected by the icon in the
	<emphasis>Start/Stop Timer</emphasis> toolbar item).</para>
    </sect1>
  </chapter>

  <chapter id="dialogs">
    <title>The Dialogs</title>
    <sect1 id="pref">
      <title>The Preferences Dialog</title>
      <sect2 id="display">
	<title>Display</title>
	<para>You can select, what GTimeTracker should display in the
	  main window, here.</para>

	<variablelist>
	  <varlistentry>
	  <term><literal/Show Seconds/</term>
	  <listitem><para>You can tell GTimeTracker, if you want the
		seconds to be displayed in the project list. If
		seconds are shown, the time displayed in the project
		list looks like <literal/00:12:47/
		(hours:minutes:seconds). If not, you just see
		<literal/00:12/ (hours:minutes).</para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><literal/Show Toolbar Icons/</term>
	    <term><literal/Show Toolbar Texts/</term>
	    <listitem><para>If you're using a GNOME version of
		GTimeTracker, you can select how the toolbar should
		look. You can chosse to display icons and/or a
		text.</para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><literal/Show Status Bar/</term>
	    <listitem><para>Just choose, if you want the status bar to
		be displayed.</para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect2>

      <sect2 id="shellcmd">
	<title>Shell Commands</title>
	<variablelist>
	  <varlistentry>
	    <term><literal/Switch Project Command/</term>
	    <listitem><para>This shell command will be executed every
		time you select a project, which was previously
		unselected. If you use <literal/%s/ in this command,
		GTimeTracker will replace that by the title of the
		selected project. I use the following entry to update
		my <literal/.project/ file:</para>
	      <literallayout><userinput>echo '%s' &gt;~/.project</userinput></literallayout>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><literal/No Project Command/</term>
	    <listitem><para>This shell command will be executed every
		time you deselect a project or if you exit
		GTimeTracker. To complete the example above, I use
		this command:</para>
	      <literallayout><userinput>rm -f ~/.project</userinput></literallayout>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect2>

      <sect2 id="logfile">
	<title>Logfile</title>
	<variablelist>
	  <varlistentry>
	  <term><literal/Use Logfile/</term>
	    <listitem><para>You have to enable this, if you want a
		logfile.</para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
    	    <term><literal/Filename/</term>
	    <listitem><para>Give a filename for the logfile.
		GTimeTracker currently does not replace
		<literal/$HOME/ or <literal/~/. You should give the
		complete path to the logfile.</para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><literal/Timeout in secs/</term>
	    <listitem><para>This value represents the minimum time a
		project has to be selected, before it will be logged.
		This is usefull, when you don't want any small task to
		be logged, or when you clicked on the wrong project
		first. Let's say, you just wanted to start working on
		a letter to your friend Joe (so you selected the
		project <emphasis/Letter to Joe/), but that reminds
		you, that you have to prepare a list of Christmas
		presents first (Joe has asked you to give him some
		good ideas). So you switch to the project
		<emphasis/X-Mas presents/. You wouldn't want the
		project <emphasis/Letter to Joe/ to be in your
		logfile, because you didn't really start it yet. I
		would suggest you set this value at least to 10
		seconds.</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para>Note that a project will not get logged, before you
	  either quit GTimeTracker, switch to another project, or
	  deselct that project. So don't be confused when you look at
	  your logfile and your current project still isn't listed,
	  even if it is running since two hours.</para>

      <sect2 id="ok-apply-cancel">
	  <title><literal/OK/, <literal/apply/ and
	  <literal/Cancel/</title>
	<para>If you are pleased with the values of the dialog, press
	  <literal/OK/ to make them active and have the dialog go
	  away.</para>

	<para>If you want to apply these values just for a given task
	  and plan to reopen the dialog again, you can press on
	  <literal/Apply/ to activate the values. But the dialog will
	  remain open.</para>

	<para>If you don't want to change to working values, you just
	  press <literal/Cancel/. That will close the dialog, but will
	  not change the behavier of GTimeTracker in any way. I
	  recommend using <literal/Cancel/ even if you didn't change
	  anything.</para>
      </sect2>

    <sect1 id="prop">
	<title>The Properties Dialog</title>
      <para>This dialog shows you all values that are internally
	stored with a project.</para>

      <para>Note that this is the only way to examine the overall time
	yet.</para>

      <variablelist>
	<varlistentry>
	  <term><literal/Project Title/</term>
	  <listitem><para>You can change the title of a project
	      here.</para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><literal/Project Description/</term>
	  <listitem><para>You can give the project a more detailed
	      description if you like. Up to now this value will never
	      be used by GTimeTracker</para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><literal/Project Time today/</term>
	  <listitem><para>This is the <emphasis/daily/ time, you
	      worked on the project today. You can edit this time
	      here.</para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><literal/Project Time ever/</term>
	  <listitem><para>This is the <emphasis/total/ time, you
	      worked on a project. You can edit this time here.</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>See <xref linkend="ok-apply-cancel"> for the meaning of
	the buttons at the bottom of the dialog.
    <sect1 id="newproj">
      <title>The New Project Dialog</title>
      <para>This dialog is fairly small. It just wants to know, how
	you want to entitle the new project. Just enter a title of the
	new project and press <literal/OK/, if you are satisfied. Or
	press <literal/Cancel/ if you changed your mind and don't want
	GTimeTracker to add a new project.</para>
    </sect1>
  </chapter>

  <chapter id="working">
    <title>Working with GTimeTracker</title>
    <para>I haven't
      finished this chapter yet. I just include it here to
	      make my SGML parser happy about the links to the
	      sections here.</para>
    <sect1 id="timer">
      <title>The Internal Timer</title>
      <para>This section isn't finished yet.</para>
    </sect1>
  </chapter>

</book>
