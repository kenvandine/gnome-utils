1999-02-25  Martin Baulig  <martin@home-of-linux.org>

	* gsu-helper.c (helper_read_password): Security fix from
	Chris Evans: use `size_t' for len, not `int' and avoid any
	integer overflows.

1999-02-10  Martin Baulig  <martin@home-of-linux.org>

	* gsu-lib.c (gsu_call_helper): New file. Use the `gsu_call_helper'
	function to call the gsu-helper.

	* gsu-test.c: New file for testing only.

1999-02-10  Martin Baulig  <martin@home-of-linux.org>

	* gsu-helper.c (passwd_fd): This is the number of an open file
	descriptor which we use to read the password from.
	(message_fd): This is the number of an open file descriptor which
	we use to pass a message to our parent.
	(helper_abort): Abort on fatal errors.
	(helper_io_error): Print an error message to stderr and abort.
	(helper_error): This is a modified error () that passes the error
 	text to our parent.
	(helper_read_password): If not using PAM, we use this function to
	read the password.
	(correct_password): Read the password from the password_fd.

1999-02-10  Martin Baulig  <martin@home-of-linux.org>

	* xmalloc.c, xstrdup.c: New files from sh-utils 1.16.

1999-02-09  Martin Baulig  <martin@home-of-linux.org>

	* gsu-helper.c: New file. This is a modified version of /bin/su
	which we use a suid helper application.

	* system.h: New file. This is taked unchanged from sh-utils 1.16.

1999-02-09  Tomas Ogren  <stric@ing.umu.se>

	* gsu.c: #include <errno.h> as well..

Tue Apr 21 19:37:40 1998  Havoc Pennington  <hp@pobox.com>

	* gsu.c: Replaced error() calls, since some systems don't have
	this (it comes with GNU shellutils, so the original su source
	used it freely). Reported by Sebastian Wilhelmi.

